<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetOdak - YKS FormÃ¼l Ezberleme</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .game-container {
            max-width: 1200px;
            margin: 1.5rem auto;
            padding: 1.5rem;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .topic-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .topic-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            border: 3px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .topic-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.3);
        }

        .topic-card.active {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
            color: white;
            border-color: var(--primary-dark);
        }

        .topic-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .topic-card.active .topic-icon {
            color: white;
        }

        .topic-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .formula-display-area {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 15px;
            padding: 2rem;
            margin: 1.5rem 0;
            min-height: 400px;
            border: 3px solid #2196F3;
            box-shadow: 0 5px 20px rgba(33, 150, 243, 0.3);
        }

        .formula-header {
            text-align: center;
            color: #1565c0;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            font-weight: bold;
        }

        .formula-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary-color);
        }

        .formula-title {
            color: var(--text-color);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .formula-content {
            font-size: 1.8rem;
            font-weight: bold;
            color: #e65100;
            text-align: center;
            padding: 1.5rem;
            background: #fff9c4;
            border-radius: 10px;
            margin: 1rem 0;
            font-family: 'Times New Roman', serif;
            border: 2px solid #ffc107;
        }

        .formula-description {
            color: var(--text-light);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .formula-example {
            margin-top: 1rem;
            padding: 1rem;
            background: #e8f5e9;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }

        .formula-example h4 {
            color: #2e7d32;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .formula-example p {
            color: #1b5e20;
            font-size: 0.9rem;
            margin: 0;
        }

        .practice-area {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            margin-top: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .practice-question {
            background: linear-gradient(135deg, #fff9c4 0%, #ffe082 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            border: 2px solid #ffc107;
        }

        .practice-question h4 {
            color: #f57c00;
            margin-bottom: 1rem;
        }

        .practice-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .practice-option {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
        }

        .practice-option:hover {
            transform: translateY(-3px);
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        .practice-option.selected {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
            color: white;
            border-color: var(--primary-dark);
        }

        .practice-option.correct {
            background: linear-gradient(135deg, #4CAF50 0%, #66bb6a 100%);
            color: white;
            border-color: #2e7d32;
        }

        .practice-option.wrong {
            background: linear-gradient(135deg, #f44336 0%, #e53935 100%);
            color: white;
            border-color: #d32f2f;
        }

        .game-controls {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .game-btn {
            padding: 0.75rem 1.75rem;
            border: none;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .game-btn.primary {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .game-btn.primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .game-btn.secondary {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
            color: white;
        }

        .game-btn.secondary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }

        .game-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1.5rem 2rem;
            border-radius: 15px;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: slideInRight 0.5s ease, fadeOut 0.5s ease 2.5s forwards;
            min-width: 300px;
        }

        .toast.success {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
        }

        .toast.error {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
        }

        .toast.info {
            background: linear-gradient(135deg, #2196F3 0%, #1976d2 100%);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(400px);
            }
        }

        .formula-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .mastery-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
            color: #e65100;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }
    </style>
</head>
<body>
    <nav>
        <div class="container">
            <div class="logo">
                <img src="images/logo.png" alt="NetOdak Logo">
                NetOdak
            </div>
            <div class="nav-links">
                <a href="ana-sayfa.html"><i class="fas fa-home"></i> Ana Sayfa</a>
                <a href="analiz.html"><i class="fas fa-chart-line"></i> Analiz</a>
                <a href="oyunlar.html"><i class="fas fa-gamepad"></i> Oyunlar</a>
                <a href="homework.html"><i class="fas fa-tasks"></i> Ã–dev ve Hedefler</a>
                <a href="profil.html"><i class="fas fa-user"></i> Profilim</a>
                <a href="chat.html"><i class="fas fa-robot"></i> Yapay Zeka</a>
            </div>
            <div class="menu-button">â˜°</div>
        </div>
    </nav>

    <section class="game-section">
        <div class="container">
            <h2><i class="fas fa-book"></i> YKS FormÃ¼l Ezberleme</h2>
            <div class="game-container">
                <div class="topic-selector" id="topicSelector"></div>

                <div class="formula-display-area" id="formulaArea" style="display: none;">
                    <div class="formula-header" id="formulaHeader"></div>
                    <div class="formula-list" id="formulaList"></div>
                </div>

                <div class="practice-area" id="practiceArea" style="display: none;">
                    <div class="practice-question" id="practiceQuestion"></div>
                <div class="game-controls">
                        <button id="checkPractice" class="game-btn primary" disabled>
                            <i class="fas fa-check"></i> Kontrol Et
                        </button>
                        <button id="nextPractice" class="game-btn secondary" disabled>
                            <i class="fas fa-arrow-right"></i> Sonraki Soru
                        </button>
                        <button id="backToFormulas" class="game-btn secondary">
                            <i class="fas fa-arrow-left"></i> FormÃ¼llere DÃ¶n
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 NetOdak. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const topicSelector = document.getElementById('topicSelector');
            const formulaArea = document.getElementById('formulaArea');
            const formulaHeader = document.getElementById('formulaHeader');
            const formulaList = document.getElementById('formulaList');
            const practiceArea = document.getElementById('practiceArea');
            const practiceQuestion = document.getElementById('practiceQuestion');
            const checkPracticeBtn = document.getElementById('checkPractice');
            const nextPracticeBtn = document.getElementById('nextPractice');
            const backToFormulasBtn = document.getElementById('backToFormulas');

            let currentTopic = null;
            let currentPracticeQuestion = null;
            let selectedAnswer = null;
            let learnedFormulas = new Set();
            let masteredFormulas = new Set();
            let formulaPracticeCount = {};
            let correctCount = 0;
            let score = 0;

            const topics = [
                {
                    name: 'Fonksiyonlar',
                    icon: 'fa-project-diagram',
                    formulas: [
                        {
                            name: 'BileÅŸke Fonksiyon',
                            formula: '(f âˆ˜ g)(x) = f(g(x))',
                            description: 'Ä°ki fonksiyonun bileÅŸkesi, bir fonksiyonun Ã§Ä±ktÄ±sÄ±nÄ± diÄŸer fonksiyonun girdisi olarak kullanÄ±r.',
                            example: 'f(x) = x + 2, g(x) = 3x ise (f âˆ˜ g)(x) = 3x + 2'
                        },
                        {
                            name: 'Ters Fonksiyon',
                            formula: 'fâ»Â¹(f(x)) = x',
                            description: 'Bir fonksiyonun tersi, fonksiyonu geri alÄ±r.',
                            example: 'f(x) = 2x + 3 ise fâ»Â¹(x) = (x - 3)/2'
                        },
                        {
                            name: 'Ã‡ift Fonksiyon',
                            formula: 'f(-x) = f(x)',
                            description: 'Ã‡ift fonksiyonlar y eksenine gÃ¶re simetriktir.',
                            example: 'f(x) = xÂ² Ã§ift fonksiyondur'
                        },
                        {
                            name: 'Tek Fonksiyon',
                            formula: 'f(-x) = -f(x)',
                            description: 'Tek fonksiyonlar orijine gÃ¶re simetriktir.',
                            example: 'f(x) = xÂ³ tek fonksiyondur'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'f(x) = 2x + 1 ve g(x) = x - 3 ise (f âˆ˜ g)(2) = ?',
                            options: ['-1', '0', '1', '2'],
                            correct: 0,
                            formula: 'BileÅŸke Fonksiyon'
                        },
                        {
                            question: 'f(x) = 3x - 5 fonksiyonunun tersi nedir?',
                            options: ['(x+5)/3', '(x-5)/3', '(x+5)/-3', '3x+5'],
                            correct: 0,
                            formula: 'Ters Fonksiyon'
                        }
                    ]
                },
                {
                    name: 'TÃ¼rev',
                    icon: 'fa-chart-line',
                    formulas: [
                        {
                            name: 'Temel TÃ¼rev KurallarÄ±',
                            formula: 'd/dx(xâ¿) = nxâ¿â»Â¹',
                            description: 'Kuvvet kuralÄ±: x\'in n. kuvvetinin tÃ¼revi n Ã§arpÄ± x\'in (n-1). kuvvetidir.',
                            example: 'd/dx(xÂ³) = 3xÂ²'
                        },
                        {
                            name: 'Ã‡arpÄ±m KuralÄ±',
                            formula: '(fg)\' = f\'g + fg\'',
                            description: 'Ä°ki fonksiyonun Ã§arpÄ±mÄ±nÄ±n tÃ¼revi, birincinin tÃ¼revi Ã§arpÄ± ikinci artÄ± birinci Ã§arpÄ± ikincinin tÃ¼revi.',
                            example: '(xÂ²Â·sin x)\' = 2xÂ·sin x + xÂ²Â·cos x'
                        },
                        {
                            name: 'BÃ¶lÃ¼m KuralÄ±',
                            formula: '(f/g)\' = (f\'g - fg\')/gÂ²',
                            description: 'Ä°ki fonksiyonun bÃ¶lÃ¼mÃ¼nÃ¼n tÃ¼revi, payÄ±n tÃ¼revi Ã§arpÄ± payda eksi pay Ã§arpÄ± paydanÄ±n tÃ¼revi, bÃ¶lÃ¼ paydanÄ±n karesi.',
                            example: '(xÂ²/x)\' = (2xÂ·x - xÂ²Â·1)/xÂ² = 1'
                        },
                        {
                            name: 'Zincir KuralÄ±',
                            formula: 'd/dx(f(g(x))) = f\'(g(x))Â·g\'(x)',
                            description: 'BileÅŸke fonksiyonun tÃ¼revi, dÄ±ÅŸ fonksiyonun tÃ¼revi Ã§arpÄ± iÃ§ fonksiyonun tÃ¼revi.',
                            example: 'd/dx((xÂ²+1)Â³) = 3(xÂ²+1)Â²Â·2x = 6x(xÂ²+1)Â²'
                        },
                        {
                            name: 'Trigonometrik TÃ¼revler',
                            formula: 'd/dx(sin x) = cos x, d/dx(cos x) = -sin x',
                            description: 'SinÃ¼sÃ¼n tÃ¼revi kosinÃ¼s, kosinÃ¼sÃ¼n tÃ¼revi negatif sinÃ¼stÃ¼r.',
                            example: 'd/dx(sin x) = cos x'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'f(x) = xâ´ fonksiyonunun tÃ¼revi nedir?',
                            options: ['4xÂ³', 'xÂ³', '4x', 'xâ´'],
                            correct: 0,
                            formula: 'Temel TÃ¼rev KurallarÄ±'
                        },
                        {
                            question: 'f(x) = sin x fonksiyonunun tÃ¼revi nedir?',
                            options: ['cos x', '-cos x', 'sin x', '-sin x'],
                            correct: 0,
                            formula: 'Trigonometrik TÃ¼revler'
                        }
                    ]
                },
                {
                    name: 'Ä°ntegral',
                    icon: 'fa-calculator',
                    formulas: [
                        {
                            name: 'Belirsiz Ä°ntegral',
                            formula: 'âˆ«xâ¿ dx = xâ¿âºÂ¹/(n+1) + C',
                            description: 'Kuvvet kuralÄ±: x\'in n. kuvvetinin integrali, x\'in (n+1). kuvveti bÃ¶lÃ¼ (n+1) artÄ± sabit.',
                            example: 'âˆ«xÂ² dx = xÂ³/3 + C'
                        },
                        {
                            name: 'Belirli Ä°ntegral',
                            formula: 'âˆ«[a to b] f(x) dx = F(b) - F(a)',
                            description: 'Belirli integral, Ã¼st sÄ±nÄ±rda antiderivatif eksi alt sÄ±nÄ±rda antiderivatif.',
                            example: 'âˆ«[0 to 2] x dx = [xÂ²/2]â‚€Â² = 2 - 0 = 2'
                        },
                        {
                            name: 'KÄ±smi Ä°ntegrasyon',
                            formula: 'âˆ«u dv = uv - âˆ«v du',
                            description: 'Ä°ki fonksiyonun Ã§arpÄ±mÄ±nÄ±n integrali iÃ§in kullanÄ±lÄ±r.',
                            example: 'âˆ«xÂ·eË£ dx = xÂ·eË£ - eË£ + C'
                        },
                        {
                            name: 'Trigonometrik Ä°ntegraller',
                            formula: 'âˆ«sin x dx = -cos x + C, âˆ«cos x dx = sin x + C',
                            description: 'SinÃ¼sÃ¼n integrali negatif kosinÃ¼s, kosinÃ¼sÃ¼n integrali sinÃ¼stÃ¼r.',
                            example: 'âˆ«sin x dx = -cos x + C'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'âˆ«xÂ³ dx = ?',
                            options: ['xâ´/4 + C', 'xâ´ + C', '3xÂ² + C', 'xÂ³/3 + C'],
                            correct: 0,
                            formula: 'Belirsiz Ä°ntegral'
                        },
                        {
                            question: 'âˆ«cos x dx = ?',
                            options: ['sin x + C', '-sin x + C', 'cos x + C', '-cos x + C'],
                            correct: 0,
                            formula: 'Trigonometrik Ä°ntegraller'
                        }
                    ]
                },
                {
                    name: 'Limit',
                    icon: 'fa-infinity',
                    formulas: [
                        {
                            name: 'Limit TanÄ±mÄ±',
                            formula: 'lim[xâ†’a] f(x) = L',
                            description: 'x, a\'ya yaklaÅŸÄ±rken f(x) fonksiyonunun limiti L\'dir.',
                            example: 'lim[xâ†’2] (x+1) = 3'
                        },
                        {
                            name: 'Limit KurallarÄ±',
                            formula: 'lim(f+g) = lim f + lim g, lim(fÂ·g) = lim f Â· lim g',
                            description: 'ToplamÄ±n limiti limitlerin toplamÄ±, Ã§arpÄ±mÄ±n limiti limitlerin Ã§arpÄ±mÄ±dÄ±r.',
                            example: 'lim[xâ†’0] (x + xÂ²) = 0 + 0 = 0'
                        },
                        {
                            name: 'L\'HÃ´pital KuralÄ±',
                            formula: 'lim[f/g] = lim[f\'/g\'] (0/0 veya âˆ/âˆ durumunda)',
                            description: 'Belirsiz formlarda pay ve paydanÄ±n tÃ¼revlerinin oranÄ±nÄ±n limiti alÄ±nÄ±r.',
                            example: 'lim[xâ†’0] (sin x)/x = lim[xâ†’0] cos x/1 = 1'
                        },
                        {
                            name: 'Ã–nemli Limitler',
                            formula: 'lim[xâ†’0] sin x/x = 1, lim[xâ†’âˆ] (1+1/x)Ë£ = e',
                            description: 'Temel limit formÃ¼lleri.',
                            example: 'lim[xâ†’0] sin x/x = 1'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'lim[xâ†’3] (xÂ² - 9)/(x - 3) = ?',
                            options: ['6', '3', '0', 'âˆ'],
                            correct: 0,
                            formula: 'Limit KurallarÄ±'
                        }
                    ]
                },
                {
                    name: 'Trigonometri',
                    icon: 'fa-circle',
                    formulas: [
                        {
                            name: 'Pisagor Ã–zdeÅŸliÄŸi',
                            formula: 'sinÂ²Î¸ + cosÂ²Î¸ = 1',
                            description: 'Birim Ã§ember Ã¼zerindeki temel trigonometrik Ã¶zdeÅŸlik.',
                            example: 'sinÂ²30Â° + cosÂ²30Â° = (1/2)Â² + (âˆš3/2)Â² = 1'
                        },
                        {
                            name: 'Toplam FormÃ¼lleri',
                            formula: 'sin(a+b) = sin a cos b + cos a sin b',
                            description: 'Ä°ki aÃ§Ä±nÄ±n toplamÄ±nÄ±n sinÃ¼sÃ¼ iÃ§in formÃ¼l.',
                            example: 'sin(30Â°+60Â°) = sin 30Â° cos 60Â° + cos 30Â° sin 60Â° = 1'
                        },
                        {
                            name: 'Ä°ki Kat AÃ§Ä±',
                            formula: 'sin 2Î¸ = 2 sin Î¸ cos Î¸',
                            description: 'Ä°ki kat aÃ§Ä±nÄ±n sinÃ¼sÃ¼ iÃ§in formÃ¼l.',
                            example: 'sin 60Â° = 2 sin 30Â° cos 30Â° = âˆš3/2'
                        },
                        {
                            name: 'YarÄ±m AÃ§Ä±',
                            formula: 'sinÂ²(Î¸/2) = (1-cos Î¸)/2',
                            description: 'YarÄ±m aÃ§Ä±nÄ±n sinÃ¼sÃ¼nÃ¼n karesi iÃ§in formÃ¼l.',
                            example: 'sinÂ²15Â° = (1-cos 30Â°)/2'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'sinÂ²30Â° + cosÂ²30Â° = ?',
                            options: ['0', '1', '2', '1/2'],
                            correct: 1,
                            formula: 'Pisagor Ã–zdeÅŸliÄŸi'
                        }
                    ]
                },
                {
                    name: 'Logaritma',
                    icon: 'fa-chart-bar',
                    formulas: [
                        {
                            name: 'Logaritma TanÄ±mÄ±',
                            formula: 'logâ‚(b) = c âŸº aá¶œ = b',
                            description: 'a tabanÄ±nda b\'nin logaritmasÄ± c ise, a\'nÄ±n c. kuvveti b\'ye eÅŸittir.',
                            example: 'logâ‚‚(8) = 3 Ã§Ã¼nkÃ¼ 2Â³ = 8'
                        },
                        {
                            name: 'Logaritma KurallarÄ±',
                            formula: 'log(ab) = log a + log b, log(a/b) = log a - log b',
                            description: 'Ã‡arpÄ±mÄ±n logaritmasÄ± logaritmalarÄ±n toplamÄ±, bÃ¶lÃ¼mÃ¼n logaritmasÄ± farkÄ±dÄ±r.',
                            example: 'log(10Â·100) = log 10 + log 100 = 1 + 2 = 3'
                        },
                        {
                            name: 'Ãœs KuralÄ±',
                            formula: 'log(aâ¿) = n log a',
                            description: 'Bir sayÄ±nÄ±n n. kuvvetinin logaritmasÄ±, logaritmanÄ±n n katÄ±dÄ±r.',
                            example: 'log(10Â³) = 3 log 10 = 3'
                        },
                        {
                            name: 'Taban DeÄŸiÅŸtirme',
                            formula: 'logâ‚(b) = log(b)/log(a)',
                            description: 'Bir logaritmanÄ±n tabanÄ±nÄ± deÄŸiÅŸtirmek iÃ§in formÃ¼l.',
                            example: 'logâ‚‚(8) = log(8)/log(2) = 3'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'log(100) = ?',
                            options: ['1', '2', '10', '100'],
                            correct: 1,
                            formula: 'Logaritma TanÄ±mÄ±'
                        },
                        {
                            question: 'log(10Â·100) = ?',
                            options: ['3', '2', '1', '0'],
                            correct: 0,
                            formula: 'Logaritma KurallarÄ±'
                        }
                    ]
                },
                {
                    name: 'Geometri',
                    icon: 'fa-shapes',
                    formulas: [
                        {
                            name: 'Daire AlanÄ±',
                            formula: 'A = Ï€rÂ²',
                            description: 'Dairenin alanÄ±, pi Ã§arpÄ± yarÄ±Ã§apÄ±n karesi.',
                            example: 'r = 5 ise A = Ï€Â·25 = 25Ï€'
                        },
                        {
                            name: 'Daire Ã‡evresi',
                            formula: 'C = 2Ï€r',
                            description: 'Dairenin Ã§evresi, 2 Ã§arpÄ± pi Ã§arpÄ± yarÄ±Ã§ap.',
                            example: 'r = 5 ise C = 2Ï€Â·5 = 10Ï€'
                        },
                        {
                            name: 'ÃœÃ§gen AlanÄ±',
                            formula: 'A = (1/2)bh',
                            description: 'ÃœÃ§genin alanÄ±, taban Ã§arpÄ± yÃ¼kseklik bÃ¶lÃ¼ 2.',
                            example: 'b = 10, h = 6 ise A = (1/2)Â·10Â·6 = 30'
                        },
                        {
                            name: 'KÃ¼p Hacmi',
                            formula: 'V = aÂ³',
                            description: 'KÃ¼pÃ¼n hacmi, bir kenarÄ±n kÃ¼pÃ¼.',
                            example: 'a = 5 ise V = 5Â³ = 125'
                        }
                    ],
                    practiceQuestions: [
                        {
                            question: 'YarÄ±Ã§apÄ± 7 cm olan dairenin alanÄ± kaÃ§ cmÂ²? (Ï€ â‰ˆ 3.14)',
                            options: ['43.96', '153.86', '21.98', '49'],
                            correct: 1,
                            formula: 'Daire AlanÄ±'
                        }
                    ]
                }
            ];

            function showToast(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                
                const icons = {
                    success: 'fa-check-circle',
                    error: 'fa-times-circle',
                    info: 'fa-info-circle'
                };
                
                toast.innerHTML = `
                    <i class="fas ${icons[type]}"></i>
                    <span>${message}</span>
                `;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }

            function createTopicCards() {
                topicSelector.innerHTML = '';
                topics.forEach((topic, index) => {
                    const card = document.createElement('div');
                    card.className = 'topic-card';
                    card.innerHTML = `
                        <div class="topic-icon">
                            <i class="fas ${topic.icon}"></i>
                        </div>
                        <div class="topic-name">${topic.name}</div>
                        <div style="font-size: 0.85rem; opacity: 0.8;">${topic.formulas.length} formÃ¼l</div>
                    `;
                    card.addEventListener('click', () => selectTopic(index));
                    topicSelector.appendChild(card);
                });
            }

            function selectTopic(index) {
                currentTopic = topics[index];
                
                document.querySelectorAll('.topic-card').forEach((card, i) => {
                    card.classList.toggle('active', i === index);
                });
                
                formulaArea.style.display = 'block';
                practiceArea.style.display = 'none';
                formulaHeader.innerHTML = `
                    ${currentTopic.name} - FormÃ¼ller
                    <button id="practiceBtn" class="game-btn primary" style="margin-left: 1rem; padding: 0.5rem 1rem; font-size: 0.9rem;">
                        <i class="fas fa-dumbbell"></i> Pratik Yap
                    </button>
                `;
                
                const practiceBtn = document.getElementById('practiceBtn');
                if (practiceBtn) {
                    practiceBtn.addEventListener('click', startPractice);
                }
                
                displayFormulas();
            }

            function displayFormulas() {
                formulaList.innerHTML = '';
                currentTopic.formulas.forEach(formula => {
                    const formulaCard = document.createElement('div');
                    formulaCard.className = 'formula-card';
                    
                    const isLearned = learnedFormulas.has(`${currentTopic.name}-${formula.name}`);
                    const isMastered = masteredFormulas.has(`${currentTopic.name}-${formula.name}`);
                    
                    formulaCard.innerHTML = `
                        <div class="formula-title">
                            <i class="fas fa-formula"></i>
                            ${formula.name}
                            ${isMastered ? '<span class="mastery-badge"><i class="fas fa-star"></i> Uzman</span>' : ''}
                        </div>
                        <div class="formula-content">${formula.formula}</div>
                        <div class="formula-description">
                            <strong>AÃ§Ä±klama:</strong> ${formula.description}
                        </div>
                        <div class="formula-example">
                            <h4><i class="fas fa-lightbulb"></i> Ã–rnek:</h4>
                            <p>${formula.example}</p>
                        </div>
                    `;
                    
                    formulaList.appendChild(formulaCard);
                    
                    if (!isLearned) {
                        learnedFormulas.add(`${currentTopic.name}-${formula.name}`);
                        score += 20;
                    }
                });
            }

            function startPractice() {
                if (!currentTopic || currentTopic.practiceQuestions.length === 0) {
                    showToast('Bu konu iÃ§in pratik sorusu bulunmuyor!', 'error');
                    return;
                }
                
                formulaArea.style.display = 'none';
                practiceArea.style.display = 'block';
                generatePracticeQuestion();
            }

            function generatePracticeQuestion() {
                const questions = currentTopic.practiceQuestions;
                currentPracticeQuestion = questions[Math.floor(Math.random() * questions.length)];
                selectedAnswer = null;
                
                practiceQuestion.innerHTML = `
                    <h4><i class="fas fa-question-circle"></i> ${currentPracticeQuestion.question}</h4>
                    <div class="practice-options"></div>
                `;
                
                const optionsContainer = practiceQuestion.querySelector('.practice-options');
                currentPracticeQuestion.options.forEach((option, index) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'practice-option';
                    optionDiv.textContent = option;
                    optionDiv.dataset.index = index;
                    optionDiv.addEventListener('click', () => selectPracticeAnswer(optionDiv, index));
                    optionsContainer.appendChild(optionDiv);
                });
                
                checkPracticeBtn.disabled = true;
                nextPracticeBtn.disabled = true;
            }

            function selectPracticeAnswer(optionDiv, index) {
                document.querySelectorAll('.practice-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                    optionDiv.classList.add('selected');
                selectedAnswer = index;
                checkPracticeBtn.disabled = false;
            }

            function checkPracticeAnswer() {
                if (selectedAnswer === null) {
                    showToast('LÃ¼tfen bir seÃ§enek seÃ§in!', 'error');
                    return;
                }
                
                const options = document.querySelectorAll('.practice-option');
                const correct = selectedAnswer === currentPracticeQuestion.correct;
                
                options.forEach((opt, index) => {
                    if (index === currentPracticeQuestion.correct) {
                        opt.classList.add('correct');
                    } else if (index === selectedAnswer) {
                        opt.classList.add('wrong');
                    }
                    opt.style.pointerEvents = 'none';
                });
                
                const formulaKey = `${currentTopic.name}-${currentPracticeQuestion.formula}`;
                if (!formulaPracticeCount[formulaKey]) {
                    formulaPracticeCount[formulaKey] = 0;
                }
                formulaPracticeCount[formulaKey]++;
                
                if (correct) {
                    correctCount++;
                    score += 30;
                    
                    if (formulaPracticeCount[formulaKey] >= 3 && !masteredFormulas.has(formulaKey)) {
                        masteredFormulas.add(formulaKey);
                        showToast(`ğŸ‰ ${currentPracticeQuestion.formula} formÃ¼lÃ¼nde uzman oldunuz!`, 'success');
                    } else {
                        showToast('ğŸ‰ DoÄŸru cevap!', 'success');
                    }
                } else {
                    showToast('âŒ YanlÄ±ÅŸ cevap!', 'error');
                }
                
                checkPracticeBtn.disabled = true;
                nextPracticeBtn.disabled = false;
            }

            function nextPracticeQuestion() {
                generatePracticeQuestion();
            }

            function backToFormulas() {
                practiceArea.style.display = 'none';
                formulaArea.style.display = 'block';
            }



            checkPracticeBtn.addEventListener('click', checkPracticeAnswer);
            nextPracticeBtn.addEventListener('click', nextPracticeQuestion);
            backToFormulasBtn.addEventListener('click', backToFormulas);

            createTopicCards();
        });
    </script>
    <script src="floating-chat.js"></script>
</body>
</html>


